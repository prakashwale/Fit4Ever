<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fit4Ever - Fitness Dashboard</title>
    <!-- Version: Beautiful Landing Page with Features v10 -->
    <link rel="stylesheet" href="styles.css?v=10">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Landing Navigation -->
    <nav class="landing-navbar" id="landingNavbar">
        <div class="nav-brand">
            <i class="fas fa-dumbbell"></i>
            <span>Fit4Ever</span>
        </div>
        <div class="landing-nav-menu">
            <button class="btn btn-outline" onclick="showAuthModal('login')">
                <i class="fas fa-sign-in-alt"></i> Login
            </button>
            <button class="btn btn-primary" onclick="showAuthModal('register')">
                <i class="fas fa-user-plus"></i> Sign Up
            </button>
        </div>
    </nav>

    <!-- App Navigation (Hidden initially) -->
    <nav class="navbar" id="appNavbar" style="display: none;">
        <div class="nav-brand">
            <i class="fas fa-dumbbell"></i>
            <span>Fit4Ever</span>
        </div>
        <div class="nav-menu" id="navMenu">
            <a href="#dashboard" class="nav-link active" data-section="dashboard">
                <i class="fas fa-chart-pie"></i> Dashboard
            </a>
            <a href="#workouts" class="nav-link" data-section="workouts">
                <i class="fas fa-dumbbell"></i> Workouts
            </a>
            <a href="#nutrition" class="nav-link" data-section="nutrition">
                <i class="fas fa-apple-alt"></i> Nutrition
            </a>
            <a href="#goals" class="nav-link" data-section="goals">
                <i class="fas fa-target"></i> Goals
            </a>
            <a href="#profile" class="nav-link" data-section="profile">
                <i class="fas fa-user"></i> Profile
            </a>
            <button class="btn btn-outline" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i> Logout
            </button>
        </div>
        <div class="nav-toggle" onclick="toggleNav()">
            <i class="fas fa-bars"></i>
        </div>
    </nav>

    <!-- Landing Page -->
    <div id="landingPage" class="landing-page">
        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-content">
                <div class="hero-text">
                    <h1 class="hero-title">
                        Transform Your Fitness Journey with 
                        <span class="highlight">Fit4Ever</span>
                    </h1>
                    <p class="hero-description">
                        The complete fitness management platform that helps you track workouts, 
                        monitor nutrition, set goals, and achieve lasting results. Your personal 
                        fitness companion for a healthier, stronger you.
                    </p>
                    <div class="hero-buttons">
                        <button class="btn btn-primary btn-large" onclick="showAuthModal('register')">
                            <i class="fas fa-rocket"></i> Get Started Free
                        </button>
                        <button class="btn btn-outline btn-large" onclick="showAuthModal('login')">
                            <i class="fas fa-sign-in-alt"></i> Login
                        </button>
                    </div>
                </div>
                <div class="hero-visual">
                    <div class="hero-card">
                        <i class="fas fa-chart-line hero-icon"></i>
                        <h3>Track Progress</h3>
                        <p>Monitor your fitness journey with detailed analytics</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="features">
            <div class="features-container">
                <h2 class="section-title">Everything You Need to Succeed</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-dumbbell"></i>
                        </div>
                        <h3>Workout Tracking</h3>
                        <p>Log exercises, sets, reps, and weights. Track your progress with detailed workout history and performance analytics.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-apple-alt"></i>
                        </div>
                        <h3>Nutrition Management</h3>
                        <p>Track calories, macros, and meals. Monitor your daily nutrition intake to fuel your fitness goals effectively.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-target"></i>
                        </div>
                        <h3>Goal Setting</h3>
                        <p>Set SMART fitness goals and track your progress. Stay motivated with milestone achievements and progress insights.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-chart-pie"></i>
                        </div>
                        <h3>Analytics Dashboard</h3>
                        <p>Visualize your progress with comprehensive charts and statistics. Make data-driven decisions for better results.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <h3>Mobile Optimized</h3>
                        <p>Access your fitness data anywhere, anytime. Fully responsive design that works perfectly on all devices.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h3>Secure & Private</h3>
                        <p>Your data is protected with enterprise-grade security. JWT authentication ensures your information stays safe.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- CTA Section -->
        <section class="cta">
            <div class="cta-content">
                <h2>Ready to Start Your Fitness Journey?</h2>
                <p>Join thousands of users who are already transforming their lives with Fit4Ever</p>
                <button class="btn btn-primary btn-large" onclick="showAuthModal('register')">
                    <i class="fas fa-user-plus"></i> Create Free Account
                </button>
            </div>
        </section>
    </div>

    <!-- Auth Modal -->
    <div id="authModal" class="modal">
        <div class="modal-content">
            <div class="auth-container">
                <div class="auth-header">
                    <h2 id="authTitle">Welcome to Fit4Ever</h2>
                    <p id="authSubtitle">Track your fitness journey</p>
                </div>
                
                <div class="auth-tabs">
                    <button class="tab-btn active" onclick="switchAuthTab('login')">Login</button>
                    <button class="tab-btn" onclick="switchAuthTab('register')">Register</button>
                </div>

                <form id="authForm">
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    
                    <div class="form-group" id="nameGroup" style="display: none;">
                        <label for="name">Full Name</label>
                        <input type="text" id="name" name="name">
                    </div>
                    
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" name="password" required>
                    </div>
                    
                    <button type="submit" class="btn btn-primary" id="authSubmitBtn">
                        <i class="fas fa-sign-in-alt"></i> Login
                    </button>
                </form>
                
                <div class="auth-divider">
                    <span>or</span>
                </div>
                
                <button class="btn btn-google" onclick="loginWithGoogle()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                        <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/>
                        <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/>
                        <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/>
                        <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/>
                    </svg>
                    Continue with Google
                </button>
                
                <div id="authError" class="error-message"></div>
            </div>
        </div>
    </div>

    <!-- Main Content (Hidden initially) -->
    <main class="main-content" id="appContent" style="display: none;">
        <!-- Dashboard Section -->
        <section id="dashboard" class="content-section active">
            <div class="section-header">
                <h1><i class="fas fa-chart-pie"></i> Dashboard</h1>
                <p>Welcome back! Here's your fitness overview</p>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-dumbbell"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="totalWorkouts">0</h3>
                        <p>Total Workouts</p>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-fire"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="todayCalories">0</h3>
                        <p>Today's Calories</p>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-target"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="activeGoals">0</h3>
                        <p>Active Goals</p>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-calendar-week"></i>
                    </div>
                    <div class="stat-content">
                        <h3 id="weekStreak">0</h3>
                        <p>Week Streak</p>
                    </div>
                </div>
            </div>

            <div class="dashboard-grid">
                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-dumbbell"></i> Recent Workouts</h3>
                        <a href="#workouts" class="btn btn-sm" onclick="showSection('workouts')">View All</a>
                    </div>
                    <div class="card-content">
                        <div id="recentWorkouts" class="recent-list">
                            <div class="empty-state">
                                <i class="fas fa-dumbbell"></i>
                                <p>No workouts yet. Start your fitness journey!</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-chart-line"></i> Goal Progress</h3>
                        <a href="#goals" class="btn btn-sm" onclick="showSection('goals')">Manage Goals</a>
                    </div>
                    <div class="card-content">
                        <div id="goalProgress" class="goals-preview">
                            <div class="empty-state">
                                <i class="fas fa-target"></i>
                                <p>Set your first goal to track progress!</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Workouts Section -->
        <section id="workouts" class="content-section">
            <div class="section-header">
                <h1><i class="fas fa-dumbbell"></i> Workouts</h1>
                <button class="btn btn-primary" onclick="showWorkoutModal()">
                    <i class="fas fa-plus"></i> Add Workout
                </button>
            </div>
            
            <div class="workouts-grid" id="workoutsGrid">
                <div class="empty-state">
                    <i class="fas fa-dumbbell"></i>
                    <p>No workouts found. Create your first workout!</p>
                </div>
            </div>
        </section>

        <!-- Nutrition Section -->
        <section id="nutrition" class="content-section">
            <div class="section-header">
                <h1><i class="fas fa-apple-alt"></i> Nutrition</h1>
                <button class="btn btn-primary" onclick="showNutritionModal()">
                    <i class="fas fa-plus"></i> Log Food
                </button>
            </div>
            
            <div class="nutrition-dashboard">
                <div class="nutrition-summary card">
                    <div class="card-header">
                        <h3>Today's Nutrition</h3>
                        <input type="date" id="nutritionDate" onchange="loadNutritionByDate()">
                    </div>
                    <div class="card-content">
                        <div class="nutrition-stats">
                            <div class="nutrition-stat">
                                <span class="stat-value" id="totalCalories">0</span>
                                <span class="stat-label">Calories</span>
                            </div>
                            <div class="nutrition-stat">
                                <span class="stat-value" id="totalProtein">0g</span>
                                <span class="stat-label">Protein</span>
                            </div>
                            <div class="nutrition-stat">
                                <span class="stat-value" id="totalCarbs">0g</span>
                                <span class="stat-label">Carbs</span>
                            </div>
                            <div class="nutrition-stat">
                                <span class="stat-value" id="totalFat">0g</span>
                                <span class="stat-label">Fat</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="nutrition-logs card">
                    <div class="card-header">
                        <h3>Food Logs</h3>
                    </div>
                    <div class="card-content">
                        <div id="nutritionLogs" class="nutrition-list"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Goals Section -->
        <section id="goals" class="content-section">
            <div class="section-header">
                <h1><i class="fas fa-target"></i> Goals</h1>
                <button class="btn btn-primary" onclick="showGoalModal()">
                    <i class="fas fa-plus"></i> Add Goal
                </button>
            </div>
            
            <div class="goals-grid" id="goalsGrid">
                <div class="empty-state">
                    <i class="fas fa-target"></i>
                    <p>No goals set. Create your first goal!</p>
                </div>
            </div>
        </section>

        <!-- Profile Section -->
        <section id="profile" class="content-section">
            <div class="section-header">
                <h1><i class="fas fa-user"></i> Profile</h1>
            </div>
            
            <div class="profile-card card">
                <div class="card-content">
                    <div class="profile-info">
                        <div class="profile-avatar">
                            <i class="fas fa-user-circle"></i>
                        </div>
                        <div class="profile-details">
                            <h3 id="profileName">Loading...</h3>
                            <p id="profileEmail">Loading...</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Workout Modal -->
    <div id="workoutModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="workoutModalTitle">Add New Workout</h3>
                <button class="modal-close" onclick="closeModal('workoutModal')">&times;</button>
            </div>
            <form id="workoutForm">
                <div class="modal-form-content">
                    <div class="form-group">
                        <label for="workoutTitle">Title</label>
                        <input type="text" id="workoutTitle" name="title" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="workoutDate">Date</label>
                        <input type="date" id="workoutDate" name="date" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="workoutNotes">Notes</label>
                        <textarea id="workoutNotes" name="notes" rows="3"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>Exercises</label>
                        <div id="exercisesList" class="exercises-list">
                            <div class="exercise-item">
                                <div class="exercise-grid">
                                    <div class="exercise-field">
                                        <label class="field-label">Exercise Name</label>
                                        <input type="text" placeholder="e.g., Bench Press" name="exerciseName" required>
                                    </div>
                                    
                                    <div class="exercise-field">
                                        <label class="field-label">Sets</label>
                                        <input type="number" placeholder="3" name="sets" min="1" required>
                                    </div>
                                    
                                    <div class="exercise-field">
                                        <label class="field-label">Reps Range</label>
                                        <div class="range-inputs">
                                            <input type="number" placeholder="8" name="minReps" min="1" title="Min reps">
                                            <span class="range-separator">-</span>
                                            <input type="number" placeholder="12" name="maxReps" min="1" title="Max reps">
                                        </div>
                                    </div>
                                    
                                    <div class="exercise-field">
                                        <label class="field-label">Weight Range (kg)</label>
                                        <div class="range-inputs">
                                            <input type="number" placeholder="20" name="minWeight" min="0" step="0.5" title="Min weight">
                                            <span class="range-separator">-</span>
                                            <input type="number" placeholder="25" name="maxWeight" min="0" step="0.5" title="Max weight">
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="exercise-actions">
                                    <button type="button" class="btn btn-danger btn-sm" onclick="removeExercise(this)" title="Remove exercise">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <button type="button" class="btn btn-outline" onclick="addExercise()">
                            <i class="fas fa-plus"></i> Add Exercise
                        </button>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('workoutModal')">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Workout</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Nutrition Modal -->
    <div id="nutritionModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Log Food</h3>
                <button class="modal-close" onclick="closeModal('nutritionModal')">&times;</button>
            </div>
            <form id="nutritionForm">
                <div class="modal-form-content">
                    <div class="form-group">
                        <label for="foodDate">Date</label>
                        <input type="date" id="foodDate" name="date" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="mealType">Meal Type</label>
                        <select id="mealType" name="mealType" required>
                            <option value="">Select meal type</option>
                            <option value="BREAKFAST">Breakfast</option>
                            <option value="LUNCH">Lunch</option>
                            <option value="DINNER">Dinner</option>
                            <option value="SNACK">Snack</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="itemName">Food Item</label>
                        <input type="text" id="itemName" name="itemName" required>
                    </div>
                    
                    <div class="nutrition-inputs">
                        <div class="form-group">
                            <label for="calories">Calories</label>
                            <input type="number" id="calories" name="calories" min="0" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="protein">Protein (g)</label>
                            <input type="number" id="protein" name="protein" min="0" step="0.1" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="carbs">Carbs (g)</label>
                            <input type="number" id="carbs" name="carbs" min="0" step="0.1" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="fat">Fat (g)</label>
                            <input type="number" id="fat" name="fat" min="0" step="0.1" required>
                        </div>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('nutritionModal')">Cancel</button>
                    <button type="submit" class="btn btn-primary">Log Food</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Goal Modal -->
    <div id="goalModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Goal</h3>
                <button class="modal-close" onclick="closeModal('goalModal')">&times;</button>
            </div>
            <form id="goalForm">
                <div class="modal-form-content">
                    <div class="form-group">
                        <label for="goalType">Goal Type</label>
                        <select id="goalType" name="type" required>
                            <option value="">Select goal type</option>
                            <option value="WEIGHT">Weight Goal</option>
                            <option value="WORKOUTS_PER_WEEK">Workouts Per Week</option>
                            <option value="CALORIES">Daily Calories</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="targetValue">Target Value</label>
                        <input type="number" id="targetValue" name="targetValue" min="0" step="0.1" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="startDate">Start Date</label>
                        <input type="date" id="startDate" name="startDate" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="endDate">End Date</label>
                        <input type="date" id="endDate" name="endDate" required>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('goalModal')">Cancel</button>
                    <button type="submit" class="btn btn-primary">Create Goal</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Loading Spinner -->
    <div id="loadingSpinner" class="loading-spinner">
        <div class="spinner"></div>
    </div>

    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container"></div>

    <script src="app.js"></script>
</body>
</html>
